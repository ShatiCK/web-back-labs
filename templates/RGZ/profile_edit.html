


{% extends "base.html" %}
{% block lab %}РГЗ • Редактирование{% endblock %}

{% block main %}
<section class="rgz rgz--narrow">
  <h1 class="rgz__title">Редактирование анкеты</h1>
  <p class="rgz__muted">Заполните данные специалиста. Стаж и цена должны быть корректными числами.</p>

  {% if error %}
    <div class="alert alert--danger">{{ error }}</div>
  {% endif %}

  <form method="post" class="card form">
    <div class="field">
      <label class="label">Имя</label>
      <input class="input" name="name" value="{{ user.name }}" required>
    </div>

    <div class="field">
      <label class="label">Вид услуги</label>
      <select class="select" name="service" required>
        <option value="" disabled {% if not user.service %}selected{% endif %}>Выберите</option>
        {% for s in service_types %}
          <option value="{{ s }}" {% if user.service == s %}selected{% endif %}>{{ s|capitalize }}</option>
        {% endfor %}
      </select>
    </div>

    <div class="field">
      <label class="label">Стаж (лет)</label>
      <input class="input" type="number" name="experience" value="{{ user.experience }}" min="0" max="60" required>
    </div>

    <div class="field">
      <label class="label">Цена услуги (₽)</label>
      <input class="input" type="number" name="price" value="{{ user.price }}" min="1" step="1" required>
    </div>

    <div class="field">
      <label class="label">О себе (необязательно)</label>
      <textarea class="textarea" name="about" rows="4" placeholder="Коротко опишите опыт, условия работы и т.д.">{{ user.about }}</textarea>
    </div>

    <div class="form__footer">
      <button class="btn btn--primary" type="submit">Сохранить</button>
      <a class="btn" href="{{ url_for('rgz.profile') }}">Отмена</a>
    </div>
  </form>
</section>

<style>
  .rgz { max-width: 980px; margin: 0 auto; }
  .rgz--narrow { max-width: 600px; }
  .rgz__title { margin: 0 0 6px 0; font-size: 28px; }
  .rgz__muted { margin: 0 0 14px 0; opacity: .75; }

  .card { background:#fff; border:1px solid rgba(0,0,0,.08); border-radius:12px; padding:16px; box-shadow: 0 2px 10px rgba(0,0,0,.04); }
  .form { display:flex; flex-direction:column; gap:12px; }
  .field { display:flex; flex-direction:column; gap:6px; }
  .label { font-size: 13px; opacity:.8; }
  .input, .select, .textarea { padding:10px 12px; border-radius:10px; border:1px solid rgba(0,0,0,.12); }
  .input:focus, .select:focus, .textarea:focus { outline:none; border-color: rgba(0,0,0,.35); }

  .form__footer { display:flex; gap:10px; justify-content:flex-end; flex-wrap:wrap; margin-top: 4px; }

  .btn { display:inline-block; padding:10px 14px; border-radius:10px; border:1px solid rgba(0,0,0,.12); background:#fff; text-decoration:none; color:inherit; cursor:pointer; }
  .btn:hover { border-color: rgba(0,0,0,.25); }
  .btn--primary { background:#111; color:#fff; border-color:#111; }
  .btn--primary:hover { opacity: .92; }

  .alert { padding: 12px 14px; border-radius: 10px; margin: 12px 0; border: 1px solid; }
  .alert--danger { background: rgba(220, 53, 69, .08); border-color: rgba(220, 53, 69, .35); }
</style>
{% endblock %}
